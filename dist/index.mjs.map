{"version":3,"file":"index.mjs","sources":["../../hooks/useDataExtractor.tsx","../../hooks/useFormPage.ts","../../hooks/useGenerateContentRender.tsx","../../config/index.ts","../../components/RenderComponent.tsx","../../components/Container.tsx","../../hooks/useGenerateContent.tsx","../../hooks/usePageQueries.ts","../../utils/optimization.ts","../../hooks/useViewSettings.ts","../../utils/merge.ts","../../hooks/useFormData.ts","../../hooks/usePageConfig.tsx","../../hooks/usePageUtiles.tsx","../../../node_modules/tslib/tslib.es6.js","../../components/PageGenerator.tsx"],"sourcesContent":["import {\n  AllMutation,\n  MultipleQueryResponse,\n  QueriesArray,\n} from \"@gaddario98/react-queries\";\nimport { createExtractor, ExtractorCache } from \"@gaddario98/utiles\";\nimport { useRef, useCallback } from \"react\";\nimport { FieldValues } from \"react-hook-form\";\n\ninterface UseDataExtractorProps<\n  F extends FieldValues,\n  Q extends QueriesArray,\n> {\n  formValues: F;\n  allQuery: MultipleQueryResponse<Q>;\n  allMutation: AllMutation<Q>;\n}\n\nfunction createQueryExtractor<\n  D extends QueriesArray,\n  V extends MultipleQueryResponse<D>,\n  K extends keyof V = keyof V,\n>(allQuery: V, queryCacheRef: ExtractorCache<Partial<V>>, usedKeys?: K[]) {\n  return createExtractor<V>(allQuery, queryCacheRef, usedKeys);\n}\n\nfunction createMutationExtractor<\n  D extends QueriesArray,\n  V extends AllMutation<D>,\n  K extends keyof V = keyof V,\n>(\n  allMutation: V,\n  mutationCacheRef: ExtractorCache<Partial<V>>,\n  usedKeys?: K[]\n) {\n  return createExtractor<V>(allMutation, mutationCacheRef, usedKeys);\n}\n\nfunction createFormValuesExtractor<\n  D extends FieldValues,\n  V extends D,\n  K extends keyof V = keyof V,\n>(\n  formValues: V,\n  formValuesCacheRef: ExtractorCache<Partial<V>>,\n  usedKeys?: K[]\n) {\n  return createExtractor<V>(formValues, formValuesCacheRef, usedKeys);\n}\n\nexport function useDataExtractor<\n  F extends FieldValues,\n  Q extends QueriesArray,\n>({ allQuery, allMutation, formValues }: UseDataExtractorProps<F, Q>) {\n  // Initialize cache refs\n  const queryCacheRef = useRef<\n    ExtractorCache<Partial<MultipleQueryResponse<Q>>>\n  >(new Map());\n  const mutationCacheRef = useRef<ExtractorCache<Partial<AllMutation<Q>>>>(\n    new Map()\n  );\n  const formValuesCacheRef = useRef<\n    ExtractorCache<Partial<F>>\n  >(new Map());\n\n  // Create extractors with caching\n  const extractQuery = useCallback(\n    (usedKeys: Array<keyof MultipleQueryResponse<Q>>) =>\n      createQueryExtractor<Q, MultipleQueryResponse<Q>>(\n        allQuery,\n        queryCacheRef.current,\n        usedKeys\n      ),\n    [allQuery]\n  );\n\n  const extractMutations = useCallback(\n    (usedKeys: Array<keyof AllMutation<Q>>) =>\n      createMutationExtractor<Q, AllMutation<Q>>(\n        allMutation,\n        mutationCacheRef.current,\n        usedKeys\n      ),\n    [allMutation]\n  );\n\n  const extractFormValues = useCallback(\n    (usedKeys: Array<keyof F>) =>\n      createFormValuesExtractor<F, F>(\n        formValues,\n        formValuesCacheRef.current,\n        usedKeys\n      ),\n    [formValues]\n  );\n\n  // Clear cache utility\n  const clearCache = useCallback(() => {\n    queryCacheRef.current.clear();\n    mutationCacheRef.current.clear();\n    formValuesCacheRef.current.clear();\n  }, []);\n\n  return {\n    extractQuery,\n    extractMutations,\n    extractFormValues,\n    clearCache,\n    cacheRefs: {\n      queryCacheRef,\n      mutationCacheRef,\n      formValuesCacheRef,\n    },\n  };\n}\n","import { useState, useEffect, useMemo, useCallback } from \"react\";\nimport { DefaultValues, useForm, FieldValues, Path } from \"react-hook-form\";\nimport { useQueryClient, QueryObserver } from \"@tanstack/react-query\";\nimport { FormPageProps } from \"../types\";\nimport { QueriesArray } from \"@gaddario98/react-queries\";\n\nexport const useFormPage = <F extends FieldValues, Q extends QueriesArray>({\n  form,\n}: {\n  form?: FormPageProps<F, Q>;\n}) => {\n  const queryClient = useQueryClient();\n  const [defaultValueQuery, setDefaultValueQuery] = useState<\n    DefaultValues<F> | undefined\n  >(form?.defaultValues);\n\n  useEffect(() => {\n    if (!form?.defaultValueQueryKey) {\n      setDefaultValueQuery(form?.defaultValues);\n      return;\n    }\n    const initialData = queryClient.getQueryData<DefaultValues<F>>(\n      form.defaultValueQueryKey\n    );\n    if (initialData) {\n      setDefaultValueQuery(initialData);\n    }\n    const observer = new QueryObserver<DefaultValues<F>>(queryClient, {\n      queryKey: form.defaultValueQueryKey,\n      enabled: true,\n      notifyOnChangeProps: [\"data\"],\n      refetchOnWindowFocus: false,\n    });\n    const unsubscribe = observer.subscribe((result) => {\n      if (result.data !== undefined) {\n        setDefaultValueQuery(result.data);\n      }\n    });\n    return () => unsubscribe();\n  }, [form?.defaultValueQueryKey, form?.defaultValues, queryClient]);\n\n  const defaultValues = useMemo(\n    () =>\n      ({\n        ...(defaultValueQuery ?? {}),\n        ...(form?.defaultValueQueryMap?.(defaultValueQuery) ?? {}),\n      }) as DefaultValues<F>,\n    [defaultValueQuery, form]\n  );\n\n  const formControl = useForm<F>({\n    mode: \"all\",\n    ...(form?.formSettings ?? {}),\n    defaultValues,\n    resetOptions: {\n      keepDirtyValues: true,\n      keepDefaultValues: false,\n      ...(form?.formSettings?.resetOptions ?? {}),\n    },\n  });\n\n  // Memoize formControl to avoid unnecessary re-renders\n  const stableFormControl = useMemo(() => formControl, []);\n\n  useEffect(() => {\n    stableFormControl.reset(defaultValues, {\n      keepDirtyValues: true,\n      keepDefaultValues: false,\n    });\n  }, [defaultValues, stableFormControl]);\n\n  const formValues = stableFormControl.watch();\n\n  const setValueAndTrigger = useCallback(\n    async (\n      name: Path<F>,\n      value: any,\n      options?: Parameters<typeof stableFormControl.setValue>[2]\n    ) => {\n      stableFormControl.setValue(name, value, options);\n      await stableFormControl.trigger(name);\n    },\n    [stableFormControl]\n  );\n\n  return {\n    formValues,\n    formControl: stableFormControl,\n    setValue: setValueAndTrigger,\n  };\n};\n","import { useMemo, useRef } from \"react\";\nimport { FieldValues, UseFormSetValue } from \"react-hook-form\";\nimport {\n  AllMutation,\n  MultipleQueryResponse,\n  QueriesArray,\n} from \"@gaddario98/react-queries\";\nimport {\n  FormElements,\n  FormManagerConfig,\n  Submit,\n} from \"@gaddario98/react-form\";\nimport { ContentItem, ContentItemsType } from \"../types\";\nimport { useDataExtractor } from \"./useDataExtractor\";\n\nexport interface GenerateContentRenderProps<\n  F extends FieldValues,\n  Q extends QueriesArray,\n> {\n  contents?: ContentItemsType<F, Q>;\n  ns?: string;\n  pageId: string;\n  formValues: F;\n  allQuery: MultipleQueryResponse<Q>;\n  allMutation: AllMutation<Q>;\n  isAllQueryMapped?: boolean;\n  formData:\n    | false\n    | {\n        elements: FormElements[];\n        formContents: (FormManagerConfig<F> | Submit<F>)[];\n      };\n  setValue: UseFormSetValue<F>;\n  renderComponent: (props: {\n    content: ContentItem<F, Q>;\n    ns: string;\n    formValues: F;\n    pageId: string;\n    allMutation: AllMutation<Q>;\n    allQuery: MultipleQueryResponse<Q>;\n    setValue: UseFormSetValue<F>;\n    key: string;\n  }) => JSX.Element;\n}\nexport interface Elements {\n  index: number;\n  element: JSX.Element;\n  renderInFooter: boolean;\n  renderInHeader: boolean;\n  key: string;\n}\nexport const useGenerateContentRender = <\n  F extends FieldValues,\n  Q extends QueriesArray,\n>({\n  pageId,\n  ns = \"\",\n  contents = [],\n  allMutation,\n  allQuery,\n  formValues,\n  isAllQueryMapped,\n  formData,\n  setValue,\n  renderComponent,\n}: GenerateContentRenderProps<F, Q>) => {\n  const memorizedContentsRef = useRef<Elements[]>([]);\n\n  const contentsWithQueriesDeps = useMemo(() => {\n    if (typeof contents === \"function\" && isAllQueryMapped) {\n      return contents({\n        formValues,\n        allMutation,\n        allQuery,\n        setValue,\n      });\n    }\n    return Array.isArray(contents) ? contents : [];\n  }, [contents, isAllQueryMapped, formValues, allMutation, allQuery, setValue]);\n\n  const filteredContents = useMemo(() => {\n    if (typeof contents === \"function\") {\n      return contentsWithQueriesDeps.filter((el) => !el?.hidden);\n    } else {\n      return contents.filter((el) => !el?.hidden);\n    }\n  }, [contents, contentsWithQueriesDeps]);\n\n  const { extractFormValues, extractMutations, extractQuery } =\n    useDataExtractor<F, Q>({\n      allMutation,\n      allQuery,\n      formValues,\n    });\n\n  const memorizedContents = useMemo(() => {\n    if (!isAllQueryMapped) return [];\n    const getStableKey = (content: ContentItem<F, Q>, index: number) =>\n      content.key ?? `content-${index}`;\n    const dynamicElements = filteredContents.map((content, index: number) => {\n      const stableKey = getStableKey(content, index);\n      return {\n        element: renderComponent({\n          content,\n          ns,\n          formValues: extractFormValues(content.usedFormValues ?? []),\n          pageId,\n          allMutation: extractMutations(content.usedQueries ?? []),\n          allQuery: extractQuery(\n            (content.usedQueries ?? []) as Array<\n              keyof MultipleQueryResponse<Q>\n            >\n          ),\n          setValue,\n          key: stableKey,\n        }),\n        index: content.index ?? index,\n        renderInFooter: !!content.renderInFooter,\n        renderInHeader: !!content.renderInHeader,\n        key: stableKey,\n      };\n    });\n    let formElementsWithKey: (FormElements & { key: string })[] = [];\n    if (formData && Array.isArray(formData.elements)) {\n      formElementsWithKey = (formData.elements as FormElements[]).map(\n        (el: FormElements, idx: number) => ({\n          ...el,\n          key: (el as any).key ?? `form-element-${el.index ?? idx}`,\n        })\n      );\n    }\n    const next = [...dynamicElements, ...formElementsWithKey].sort(\n      (a, b) => a.index - b.index || String(a.key).localeCompare(String(b.key))\n    );\n    const prev = memorizedContentsRef.current;\n    const merged = next.map((el) => {\n      const found = prev.find((e) => e.key === el.key);\n      if (found) {\n        return { ...found, ...el, element: el.element };\n      }\n      return el;\n    });\n    memorizedContentsRef.current = merged;\n    return next;\n  }, [\n    isAllQueryMapped,\n    filteredContents,\n    ns,\n    pageId,\n    setValue,\n    extractFormValues,\n    extractMutations,\n    extractQuery,\n    formData,\n  ]);\n\n  return {\n    components: memorizedContents,\n    allContents: [\n      ...filteredContents,\n      ...(!formData ? [] : (formData?.formContents ?? [])),\n    ],\n  };\n};\n","import { AuthState } from \"@gaddario98/react-auth\";\nimport { ContentItem, PageProps, ViewSettings } from \"../types\";\nimport { FormManagerConfig, Submit } from \"@gaddario98/react-form\";\nimport { FieldValues } from \"react-hook-form\";\nimport { QueriesArray } from \"@gaddario98/react-queries\";\n\nexport interface DefaultContainerProps<\n  F extends FieldValues = FieldValues,\n  Q extends QueriesArray = QueriesArray,\n> {\n  children?: React.JSX.Element[];\n  allContents: (ContentItem<F, Q> | FormManagerConfig<F> | Submit<F>)[];\n  handleRefresh?: () => Promise<void>;\n  hasQueries: boolean;\n  viewSettings?: ViewSettings;\n  pageId?: string;\n}\n\nexport interface PageConfigProps {\n  HeaderContainer: <\n    F extends FieldValues = FieldValues,\n    Q extends QueriesArray = QueriesArray,\n  >(\n    props: Omit<DefaultContainerProps<F, Q>, \"viewSettings\"> &\n      ViewSettings[\"header\"]\n  ) => React.ReactNode;\n  FooterContainer: <\n    F extends FieldValues = FieldValues,\n    Q extends QueriesArray = QueriesArray,\n  >(\n    props: Omit<DefaultContainerProps<F, Q>, \"viewSettings\"> &\n      ViewSettings[\"footer\"]\n  ) => React.ReactNode;\n  BodyContainer: <\n    F extends FieldValues = FieldValues,\n    Q extends QueriesArray = QueriesArray,\n  >(\n    props: DefaultContainerProps<F, Q>\n  ) => React.ReactNode;\n  authPageImage: string;\n  authPageProps: PageProps;\n  isLogged: (val: AuthState | null) => boolean;\n  ItemsContainer: (props: { children: React.ReactNode }) => React.ReactNode;\n  LoaderComponent?: (props: {\n    loading?: boolean;\n    message?: string;\n    ns?: string;\n  }) => React.ReactNode;\n  PageContainer: (props: {\n    children: React.ReactNode;\n    id: string;\n  }) => React.ReactNode;\n  meta?: {\n    title?: string;\n    description?: string;\n  };\n}\n\nconst DefaultContainer = <\n  F extends FieldValues = FieldValues,\n  Q extends QueriesArray = QueriesArray,\n>({\n  children,\n}: DefaultContainerProps<F, Q>) => {\n  return children;\n};\n\nexport let pageConfig: PageConfigProps = {\n  HeaderContainer: DefaultContainer,\n  FooterContainer: DefaultContainer,\n  BodyContainer: DefaultContainer,\n  authPageImage: \"\",\n  authPageProps: { id: \"auth-page\" },\n  isLogged: (val: AuthState | null) => !!val?.id && !!val?.isLogged,\n  ItemsContainer: ({ children }) => children,\n  PageContainer: ({ children }) => children,\n  meta: {\n    title: \"\",\n    description: \"\",\n  },\n};\n\nexport const setPageConfig = (config: Partial<PageConfigProps>) => {\n  pageConfig = { ...pageConfig, ...config };\n};\n","import {\n    QueriesArray,\n  } from \"@gaddario98/react-queries\";\n  import { useMemo } from \"react\";\n  import { FieldValues } from \"react-hook-form\";\n  import { withMemo } from \"@gaddario98/utiles\";\n  import { ContentProps } from \"./types\";\n  \n  // Rimuovo l'uso di useRef: i dati dinamici devono propagarsi\n  export const RenderComponent = withMemo(\n    <F extends FieldValues, Q extends QueriesArray>({\n      content,\n      formValues,\n      allMutation,\n      allQuery,\n      setValue,\n    }: ContentProps<F, Q>) => {\n      const { component } = content;\n      // Memo solo su oggetti che non cambiano spesso, ma i dati dinamici devono propagarsi\n      return useMemo(() => {\n        if (typeof component === \"function\") {\n          return component({\n            allQuery,\n            allMutation,\n            formValues,\n            setValue,\n          });\n        }\n        return component;\n      }, [allMutation, allQuery, component, formValues, setValue]);\n    }\n  );","import { QueriesArray } from \"@gaddario98/react-queries\";\nimport { useMemo } from \"react\";\nimport { FieldValues } from \"react-hook-form\";\nimport { withMemo } from \"@gaddario98/utiles\";\nimport { useGenerateContentRender } from \"../hooks/useGenerateContentRender\";\nimport { pageConfig } from \"../config\";\nimport { ItemContainerProps } from \"./types\";\nimport { RenderComponent } from \"./RenderComponent\";\n\nexport const Container = withMemo(\n  <F extends FieldValues, Q extends QueriesArray>({\n    content,\n    ns,\n    pageId,\n    allMutation,\n    allQuery,\n    formValues,\n    setValue,\n  }: ItemContainerProps<F, Q>) => {\n    const { components } = useGenerateContentRender<F, Q>({\n      allMutation,\n      allQuery,\n      formValues,\n      pageId,\n      isAllQueryMapped: true,\n      formData: false,\n      contents: content.items,\n      ns,\n      setValue,\n      renderComponent: (props) => {\n        if (props.content.type === \"container\") {\n          return (\n            <Container<F, Q>\n              key={props.key}\n              content={props.content}\n              ns={props.ns}\n              pageId={props.pageId}\n              allMutation={props.allMutation}\n              allQuery={props.allQuery}\n              formValues={props.formValues}\n              setValue={props.setValue}\n            />\n          );\n        }\n        return (\n          <RenderComponent<F, Q>\n            key={props.key}\n            content={props.content}\n            ns={props.ns}\n            formValues={props.formValues}\n            pageId={props.pageId}\n            allMutation={props.allMutation}\n            allQuery={props.allQuery}\n            setValue={props.setValue}\n          />\n        );\n      },\n    });\n\n    const Layout = useMemo(\n      () => content?.component ?? pageConfig.ItemsContainer,\n      [content?.component]\n    );\n    return <Layout>{components?.map((el) => el.element)}</Layout>;\n  }\n);\n","import { useMemo } from \"react\";\nimport { QueriesArray } from \"@gaddario98/react-queries\";\nimport { FieldValues } from \"react-hook-form\";\nimport { useGenerateContentRender } from \"./useGenerateContentRender\";\nimport { ContentItemsType } from \"../types\";\nimport { usePageConfig } from \"./usePageConfig\";\nimport { Container } from \"../components/Container\";\nimport { RenderComponent } from \"../components/RenderComponent\";\n\nexport interface GenerateContentProps<\n  F extends FieldValues,\n  Q extends QueriesArray,\n> {\n  pageId: string;\n  ns?: string;\n  contents: ContentItemsType<F, Q>;\n  pageConfig: ReturnType<typeof usePageConfig<F, Q>>;\n}\n\nexport const useGenerateContent = <\n  F extends FieldValues,\n  Q extends QueriesArray,\n>({\n  pageId,\n  ns = \"\",\n  contents = [],\n  pageConfig,\n}: GenerateContentProps<F, Q>) => {\n  const {\n    allMutation,\n    allQuery,\n    formData,\n    formValues,\n    isAllQueryMapped,\n    setValue,\n  } = pageConfig;\n  const { allContents, components } = useGenerateContentRender<F, Q>({\n    allMutation,\n    allQuery,\n    formData,\n    formValues,\n    pageId,\n    contents,\n    isAllQueryMapped,\n    setValue,\n    ns,\n    renderComponent: (props) => {\n      if (props.content.type === \"container\") {\n        return (\n          <Container<F, Q>\n            key={props.key}\n            content={props.content}\n            ns={props.ns}\n            pageId={props.pageId}\n            allMutation={props.allMutation}\n            allQuery={props.allQuery}\n            formValues={props.formValues}\n            setValue={props.setValue}\n          />\n        );\n      }\n      return (\n        <RenderComponent<F, Q>\n          key={props.key}\n          content={props.content}\n          ns={props.ns}\n          formValues={props.formValues}\n          pageId={props.pageId}\n          allMutation={props.allMutation}\n          allQuery={props.allQuery}\n          setValue={props.setValue}\n        />\n      );\n    },\n  });\n  const body = useMemo(\n    () =>\n      components\n        .filter((el) => !el.renderInFooter && !el.renderInHeader)\n        .map((item) => item.element),\n    [components]\n  );\n  const header = useMemo(\n    () =>\n      components.filter((el) => el.renderInHeader).map((item) => item.element),\n    [components]\n  );\n  const footer = useMemo(\n    () =>\n      components.filter((el) => el.renderInFooter).map((item) => item.element),\n    [components]\n  );\n  return { header, body, footer, allContents };\n};\n","import { useMemo } from 'react';\nimport { FieldValues } from 'react-hook-form';\nimport {\n  QueriesArray,\n  QueryConfigArray as OriginalQueryConfigArray,\n  useApi,\n} from '@gaddario98/react-queries';\nimport { QueryPageConfigArray } from '../types';\n\n/**\n * Specialized hook for managing queries and mutations\n * Handles query processing, loading states, and key mapping\n * @param queries - Array of query configurations\n * @param formValues - Current form values\n * @param setValue - Form setValue function\n * @returns Query management state and utilities\n */\nexport function usePageQueries<F extends FieldValues, Q extends QueriesArray>({\n  queries = [] as QueryPageConfigArray<F, Q>,\n  formValues,\n  setValue,\n}: {\n  queries: QueryPageConfigArray<F, Q>;\n  formValues: F;\n  setValue: any;\n}) {\n  const processedQueries = useMemo(() => {\n    return queries.map((q) => {\n      if (q.type === 'mutation') {\n        const mutationConfig =\n          typeof q.mutationConfig === 'function'\n            ? q.mutationConfig({ formValues, setValue })\n            : q.mutationConfig;\n        return {\n          ...q,\n          mutationConfig,\n        };\n      }\n      if (q.type === 'query') {\n        const queryConfig =\n          typeof q.queryConfig === 'function'\n            ? q.queryConfig({ formValues, setValue })\n            : q.queryConfig;\n        return {\n          ...q,\n          queryConfig,\n        };\n      }\n      return q;\n    });\n  }, [queries, formValues, setValue]);\n\n  const { allMutation, allQuery } = useApi(\n    processedQueries as OriginalQueryConfigArray<Q>\n  );\n\n  const queriesKeys = useMemo(\n    () => Object.keys(allQuery ?? {}).concat(Object.keys(allMutation ?? {})),\n    [allMutation, allQuery]\n  );\n\n  const isAllQueryMapped = useMemo(() => {\n    if (!queries.length) return true;\n    return queries.map((el) => el.key).every((el) => queriesKeys.includes(el));\n  }, [queries, queriesKeys]);\n\n  const isLoading = useMemo(\n    () =>\n      Object.values(allQuery ?? {}).some(\n        (el: any) =>\n          typeof el !== 'boolean' && el?.isLoadingMapped === true && !el.data\n      ),\n    [allQuery]\n  );\n\n  const queryKeys = useMemo(\n    () =>\n      processedQueries\n        .filter((el) => el?.type === 'query')\n        .map((el) => {\n          const queryConfig = (el as Extract<typeof el, { type: 'query' }>)\n            .queryConfig;\n          return queryConfig?.queryKey;\n        })\n        .filter(Boolean),\n    [processedQueries]\n  );\n\n  const hasQueries = useMemo(() => {\n    return queries.some((q) => q.type === 'query');\n  }, [queries]);\n\n  return {\n    allMutation,\n    allQuery,\n    isAllQueryMapped,\n    isLoading,\n    queryKeys,\n    hasQueries,\n    queriesKeys,\n  };\n}","/**\n * Optimized shallow equality check for objects and functions\n * @param objA - First object to compare\n * @param objB - Second object to compare\n * @returns True if objects are shallow equal\n */\nexport function shallowEqual(objA: any, objB: any): boolean {\n  if (objA === objB) return true;\n  \n  if (!objA || !objB) return false;\n  \n  if (typeof objA !== 'object' || typeof objB !== 'object') {\n    return objA === objB;\n  }\n  \n  if (typeof objA === 'function' && typeof objB === 'function') {\n    return objA.name === objB.name && objA.toString() === objB.toString();\n  }\n  \n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n  \n  if (keysA.length !== keysB.length) return false;\n  \n  for (const key of keysA) {\n    if (!keysB.includes(key)) return false;\n    \n    const valA = objA[key];\n    const valB = objB[key];\n    \n    if (typeof valA === 'function' && typeof valB === 'function') {\n      if (valA.name !== valB.name || valA.toString() !== valB.toString()) {\n        return false;\n      }\n      continue;\n    }\n    \n    if (valA !== valB) return false;\n  }\n  \n  return true;\n}\n\n/**\n * Checks if a value is stable for React dependency arrays\n * @param value - Value to check for stability\n * @returns True if value is considered stable\n */\nexport function isStableValue(value: any): boolean {\n  if (value === null || value === undefined) return true;\n  if (typeof value !== 'object' && typeof value !== 'function') return true;\n  if (typeof value === 'function') return value.toString().length < 1000;\n  return false;\n}\n\n/**\n * Creates an optimized dependency array by filtering unstable values\n * @param deps - Array of dependencies to optimize\n * @returns Filtered array of stable dependencies\n */\nexport function optimizeDeps(deps: any[]): any[] {\n  return deps.filter(dep => isStableValue(dep) || typeof dep === 'object');\n}","import { useMemo, useRef } from 'react';\nimport { FieldValues } from 'react-hook-form';\nimport { QueriesArray, AllMutation, MultipleQueryResponse } from '@gaddario98/react-queries';\nimport { ViewSettings, MappedItemsFunction } from '../types';\nimport { shallowEqual } from '../utils/optimization';\n\n/**\n * Specialized hook for managing view settings\n * Optimized to prevent unnecessary re-renders\n * @param viewSettings - View settings configuration (static or function)\n * @param allQuery - All query results\n * @param allMutation - All mutation handlers\n * @param formValues - Current form values\n * @param setValue - Form setValue function\n * @returns Processed view settings\n */\nexport function useViewSettings<F extends FieldValues, Q extends QueriesArray>({\n  viewSettings = {},\n  allQuery,\n  allMutation,\n  formValues,\n  setValue,\n}: {\n  viewSettings?: MappedItemsFunction<F, Q, ViewSettings> | ViewSettings;\n  allQuery: MultipleQueryResponse<Q>;\n  allMutation: AllMutation<Q>;\n  formValues: F;\n  setValue: any;\n}) {\n  const prevViewSettingsRef = useRef<ViewSettings | undefined>(undefined);\n\n  const mappedViewSettings = useMemo((): ViewSettings => {\n    let next: ViewSettings;\n    \n    if (typeof viewSettings === 'function') {\n      next = viewSettings({\n        allQuery,\n        allMutation,\n        formValues,\n        setValue,\n      });\n    } else {\n      next = viewSettings;\n    }\n\n    if (\n      prevViewSettingsRef.current &&\n      shallowEqual(prevViewSettingsRef.current, next)\n    ) {\n      return prevViewSettingsRef.current;\n    }\n\n    prevViewSettingsRef.current = next;\n    return next;\n  }, [viewSettings, allQuery, allMutation, formValues, setValue]);\n\n  return mappedViewSettings;\n}","import { shallowEqual } from './optimization';\n\ntype WithKey<T> = T & { key: string | number };\n\n/**\n * Optimized merge function for arrays of objects with keys\n * Maintains object references if they haven't changed\n * @param prev - Previous array of objects with keys\n * @param next - Next array of objects with keys\n * @returns Merged array with preserved references where possible\n */\nexport function mergeByKey<T extends Record<string, any>>(\n  prev: WithKey<T>[],\n  next: WithKey<T>[]\n): WithKey<T>[] {\n  if (!prev.length) return next;\n  if (!next.length) return [];\n  \n  const prevMap = new Map<string | number, WithKey<T>>();\n  prev.forEach((item) => prevMap.set(item.key, item));\n  \n  return next.map((item) => {\n    const prevItem = prevMap.get(item.key);\n    \n    if (prevItem && shallowEqual(prevItem, item)) {\n      return prevItem;\n    }\n    \n    return item;\n  });\n}\n\n/**\n * Checks if two arrays with keys have the same elements\n * @param arrA - First array to compare\n * @param arrB - Second array to compare\n * @returns True if arrays are equal\n */\nexport function arraysWithKeyEqual<T extends Record<string, any>>(\n  arrA: WithKey<T>[],\n  arrB: WithKey<T>[]\n): boolean {\n  if (arrA.length !== arrB.length) return false;\n  \n  for (let i = 0; i < arrA.length; i++) {\n    if (!shallowEqual(arrA[i], arrB[i])) return false;\n  }\n  \n  return true;\n}\n\n/**\n * Stable cache implementation for objects with keys\n * Provides intelligent caching with shallow equality checks\n */\nexport class StableCache<T extends Record<string, any>> {\n  private cache = new Map<string, WithKey<T>>();\n  \n  get(key: string | number): WithKey<T> | undefined {\n    return this.cache.get(String(key));\n  }\n  \n  set(key: string | number, value: WithKey<T>): void {\n    this.cache.set(String(key), value);\n  }\n  \n  getOrSet(key: string | number, value: WithKey<T>): WithKey<T> {\n    const existing = this.get(key);\n    if (existing && shallowEqual(existing, value)) {\n      return existing;\n    }\n    this.set(key, value);\n    return value;\n  }\n  \n  clear(): void {\n    this.cache.clear();\n  }\n}","import { useMemo, useRef } from 'react';\nimport { FieldValues } from 'react-hook-form';\nimport { QueriesArray, AllMutation, MultipleQueryResponse } from '@gaddario98/react-queries';\nimport { FormPageProps } from '../types';\nimport { FormManagerConfig, Submit } from '@gaddario98/react-form';\nimport { StableCache } from '../utils/merge';\n\n/**\n * Specialized hook for managing form data processing\n * Uses optimized caches to prevent unnecessary re-renders\n * @param form - Form configuration\n * @param isAllQueryMapped - Whether all queries are mapped\n * @param formValues - Current form values\n * @param extractMutationsHandle - Extracted mutations\n * @param extractQueryHandle - Extracted queries\n * @param setValue - Form setValue function\n * @returns Processed form data and submit handlers\n */\nexport function useFormData<F extends FieldValues, Q extends QueriesArray>({\n  form,\n  isAllQueryMapped,\n  formValues,\n  extractMutationsHandle,\n  extractQueryHandle,\n  setValue,\n}: {\n  form?: FormPageProps<F, Q>;\n  isAllQueryMapped: boolean;\n  formValues: F;\n  extractMutationsHandle: AllMutation<Q>;\n  extractQueryHandle: MultipleQueryResponse<Q>;\n  setValue: any;\n}) {\n  const formDataCache = useRef(new StableCache<FormManagerConfig<F>>());\n  const formSubmitCache = useRef(new StableCache<Submit<F>>());\n\n  const mappedFormData = useMemo(() => {\n    if (!form?.data || !isAllQueryMapped) return [];\n\n    const processedData = form.data\n      ?.map((el) => {\n        if (typeof el === 'function') {\n          return el({\n            formValues,\n            allMutation: extractMutationsHandle,\n            allQuery: extractQueryHandle,\n            setValue,\n          });\n        }\n        return el;\n      })\n      ?.map((el, i) => ({ ...el, key: el.key ?? i })) ?? [];\n\n    return processedData.map(item => {\n      const keyStr = String(item.key);\n      return formDataCache.current.getOrSet(keyStr, { ...item, key: keyStr });\n    });\n  }, [\n    form?.data,\n    isAllQueryMapped,\n    formValues,\n    extractMutationsHandle,\n    extractQueryHandle,\n    setValue,\n  ]);\n\n  const formSubmit = useMemo(() => {\n    if (!isAllQueryMapped || !form?.submit) return [];\n\n    const submitFn = form.submit;\n    const processedSubmit = (typeof submitFn === 'function'\n      ? submitFn({\n          formValues,\n          allMutation: extractMutationsHandle,\n          allQuery: extractQueryHandle,\n          setValue,\n        })\n      : submitFn\n    )?.map((el, i) => ({ ...el, key: el.key ?? i })) ?? [];\n\n    return processedSubmit.map(item => {\n      const keyStr = String(item.key);\n      return formSubmitCache.current.getOrSet(keyStr, { ...item, key: keyStr });\n    });\n  }, [\n    isAllQueryMapped,\n    form?.submit,\n    formValues,\n    extractMutationsHandle,\n    extractQueryHandle,\n    setValue,\n  ]);\n\n  return {\n    mappedFormData,\n    formSubmit,\n  };\n}","import { useMemo, useEffect, useCallback } from \"react\";\nimport { useFormPage } from \"./useFormPage\";\nimport type {\n  FormPageProps,\n  MappedItemsFunction,\n  QueryPageConfigArray,\n  ViewSettings,\n} from \"../types\";\nimport { useFormManager } from \"@gaddario98/react-form\";\nimport { FieldValues } from \"react-hook-form\";\nimport { QueriesArray } from \"@gaddario98/react-queries\";\nimport { useDataExtractor } from \"./useDataExtractor\";\nimport { useInvalidateQueries } from \"@gaddario98/react-providers\";\nimport { usePageQueries } from \"./usePageQueries\";\nimport { useViewSettings } from \"./useViewSettings\";\nimport { useFormData } from \"./useFormData\";\n\nconst EMPTY_ARRAY: [] = [];\n\nexport const usePageConfig = <F extends FieldValues, Q extends QueriesArray>({\n  queries = EMPTY_ARRAY as QueryPageConfigArray<F,Q>,\n  form,\n  ns,\n  onValuesChange,\n  viewSettings = {},\n}: {\n  queries: QueryPageConfigArray<F,Q>;\n  form?: FormPageProps<F, Q>;\n  ns: string;\n  onValuesChange?: MappedItemsFunction<F, Q, void>;\n  viewSettings?: MappedItemsFunction<F, Q, ViewSettings> | ViewSettings;\n}) => {\n  const { formControl, formValues, setValue } = useFormPage<F, Q>({ form });\n  \n  const {\n    allMutation,\n    allQuery,\n    isAllQueryMapped,\n    isLoading,\n    queryKeys,\n    hasQueries,\n  } = usePageQueries({\n    queries,\n    formValues,\n    setValue,\n  });\n\n  const { invalidateQueries } = useInvalidateQueries();\n\n  const { extractMutations, extractQuery } = useDataExtractor({\n    allMutation,\n    allQuery,\n    formValues,\n  });\n\n  const mappedViewSettings = useViewSettings({\n    viewSettings,\n    allQuery,\n    allMutation,\n    formValues,\n    setValue,\n  });\n\n  const extractQueryHandle = useMemo(() => {\n    if (!form?.usedQueries?.length) return allQuery;\n    return extractQuery(form?.usedQueries as string[]);\n  }, [allQuery, extractQuery, form?.usedQueries]);\n\n  const extractMutationsHandle = useMemo(() => {\n    if (!form?.usedQueries?.length) return allMutation;\n    return extractMutations(form.usedQueries as string[]);\n  }, [allMutation, extractMutations, form?.usedQueries]);\n\n  const { mappedFormData, formSubmit } = useFormData({\n    form,\n    isAllQueryMapped,\n    formValues,\n    extractMutationsHandle,\n    extractQueryHandle,\n    setValue,\n  });\n\n  const handleRefresh = useCallback(async () => {\n    if (!queryKeys?.length) return;\n    await invalidateQueries(queryKeys);\n  }, [invalidateQueries, queryKeys]);\n\n  useEffect(() => {\n    if (isAllQueryMapped && onValuesChange) {\n      onValuesChange({\n        allMutation,\n        allQuery: allQuery ?? {},\n        formValues,\n        setValue,\n      });\n    }\n  }, [\n    isAllQueryMapped,\n    onValuesChange,\n    allMutation,\n    allQuery,\n    formValues,\n    setValue,\n  ]);\n\n  const formData = useFormManager({\n    ...form,\n    data: mappedFormData as any[],\n    ns,\n    formControl,\n    submit: formSubmit as any[],\n  });\n\n  return {\n    formData,\n    isAllQueryMapped,\n    formValues,\n    formControl,\n    hasQueries,\n    handleRefresh,\n    allMutation,\n    allQuery,\n    setValue,\n    form,\n    mappedViewSettings,\n    isLoading,\n  };\n};\n","import { QueriesArray } from \"@gaddario98/react-queries\";\nimport { useCallback } from \"react\";\nimport { FieldValues } from \"react-hook-form\";\nimport {  ContentItem } from \"../types\";\n\nexport const usePageUtiles = () => {\n  const getContentProps = useCallback(\n    <\n      F extends FieldValues = FieldValues,\n      Q extends QueriesArray = QueriesArray,\n    >(\n      props: ContentItem<F, Q>\n    ) => props,\n    []\n  );\n  const getContentItems = useCallback(\n    <\n      F extends FieldValues = FieldValues,\n      Q extends QueriesArray = QueriesArray,\n    >(\n      props: ContentItem<F, Q>[]\n    ) => props,\n    []\n  );\n\n  return { getContentProps, getContentItems };\n};\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","import { useEffect, useMemo, useState, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { withMemo } from \"@gaddario98/utiles\";\nimport { PageProps, PageMetadataProps } from \"../types\";\nimport { FieldValues } from \"react-hook-form\";\nimport { QueriesArray, QueryConfigArray } from \"@gaddario98/react-queries\";\nimport { useAuthValue } from \"@gaddario98/react-auth\";\nimport { Helmet } from \"react-helmet-async\";\nimport { pageConfig as GlobalPageConfig, pageConfig } from \"../config\";\nimport { useGenerateContent } from \"../hooks/useGenerateContent\";\nimport { usePageConfig } from \"../hooks\";\n\n/**\n * Renders page metadata using react-helmet-async\n * @param title - Page title\n * @param description - Page description\n * @param documentLang - Document language\n * @param otherMetaTags - Additional meta tags\n * @param disableIndexing - Whether to disable search engine indexing\n */\nconst PageMetadata = ({\n  title = \"Addario Giosu App\",\n  description,\n  documentLang = \"it\",\n  otherMetaTags,\n  disableIndexing,\n}: PageMetadataProps) => {\n  return (\n    <Helmet>\n      <html lang={documentLang} />\n      <title>{title || pageConfig.meta?.title || \"\"}</title>\n      {\n        <meta\n          name=\"description\"\n          content={description || pageConfig.meta?.description || \"\"}\n        />\n      }\n      <meta\n        name=\"robots\"\n        content={disableIndexing ? \"noindex, nofollow\" : \"index, follow\"}\n      />\n      {otherMetaTags}\n    </Helmet>\n  );\n};\n\n/**\n * Main page generator component that orchestrates page rendering\n * Handles authentication, content generation, and layout management\n * @param enableAuthControl - Whether to enable authentication control\n * @param meta - Page metadata configuration\n * @param props - Additional page properties\n */\nconst PageGenerator = withMemo(\n  <F extends FieldValues = FieldValues, Q extends QueriesArray = QueriesArray>({\n    enableAuthControl = true,\n    meta,\n    ...props\n  }: PageProps<F, Q>) => {\n    const user = useAuthValue();\n\n    const authControl = useMemo(\n      () => enableAuthControl && !GlobalPageConfig.isLogged(user),\n      [enableAuthControl, user, GlobalPageConfig.isLogged]\n    );\n\n    const [usedProps, setUsedProps] = useState<\"auth\" | \"page\">(\n      enableAuthControl && authControl ? \"auth\" : \"page\"\n    );\n\n    useEffect(() => {\n      const newUsedProps = authControl ? \"auth\" : \"page\";\n      if (newUsedProps !== usedProps) setUsedProps(newUsedProps);\n    }, [authControl, usedProps]);\n\n    const selectedProps = useMemo(\n      () =>\n        usedProps === \"auth\"\n          ? (GlobalPageConfig.authPageProps as PageProps<F, Q>)\n          : props,\n      [props, usedProps]\n    );\n\n    const {\n      ns,\n      contents = [],\n      queries = [] as QueryConfigArray<Q>,\n      form,\n      id,\n      onValuesChange,\n      viewSettings,\n    } = selectedProps;\n\n    const { t, i18n } = useTranslation(ns);\n    const pageMetadata = useMemo(\n      (): PageMetadataProps => ({\n        ...meta,\n        title: meta?.title ? t(meta?.title, { ns: \"meta\" }) : \"\",\n        description: meta?.description\n          ? t(meta?.description, { ns: \"meta\" })\n          : \"\",\n        documentLang: i18n.language,\n      }),\n      [t, i18n.language, meta]\n    );\n\n    const config = usePageConfig<F, Q>({\n      queries,\n      form,\n      onValuesChange,\n      ns: ns ?? \"\",\n      viewSettings,\n    });\n\n    const { handleRefresh, hasQueries, isLoading, mappedViewSettings } = config;\n    const { allContents, body, footer, header } = useGenerateContent<F, Q>({\n      contents,\n      pageId: id,\n      ns,\n      pageConfig: config,\n    });\n\n    const layoutComponentRef = useRef<typeof GlobalPageConfig.BodyContainer>();\n    const pageContainerRef = useRef<typeof GlobalPageConfig.PageContainer>();\n\n    const Layout = useMemo(() => {\n      const newComponent = mappedViewSettings?.customLayoutComponent ?? GlobalPageConfig.BodyContainer;\n      if (layoutComponentRef.current !== newComponent) {\n        layoutComponentRef.current = newComponent;\n      }\n      return layoutComponentRef.current;\n    }, [mappedViewSettings?.customLayoutComponent]);\n\n    const PageContainer = useMemo(() => {\n      const newComponent = mappedViewSettings?.customPageContainer ?? GlobalPageConfig.PageContainer;\n      if (pageContainerRef.current !== newComponent) {\n        pageContainerRef.current = newComponent;\n      }\n      return pageContainerRef.current;\n    }, [mappedViewSettings?.customPageContainer]);\n\n    const pageContent = useMemo(\n      () => (\n        <>\n          <PageMetadata {...pageMetadata} />\n          <GlobalPageConfig.HeaderContainer<F, Q>\n            allContents={allContents}\n            handleRefresh={handleRefresh}\n            hasQueries={hasQueries}\n            {...mappedViewSettings?.header}\n            pageId={id}\n          >\n            {header}\n          </GlobalPageConfig.HeaderContainer>\n          {!!isLoading &&\n            !!GlobalPageConfig.LoaderComponent &&\n            GlobalPageConfig.LoaderComponent({ loading: isLoading })}\n        </>\n      ),\n      [\n        pageMetadata,\n        allContents,\n        handleRefresh,\n        hasQueries,\n        mappedViewSettings?.header,\n        id,\n        header,\n        isLoading,\n      ]\n    );\n\n    const layoutBody = useMemo(() => body, [body]);\n    const layoutContent = useMemo(\n      () => (\n        <Layout<F, Q>\n          allContents={allContents}\n          handleRefresh={handleRefresh}\n          hasQueries={hasQueries}\n          viewSettings={mappedViewSettings}\n          pageId={id}\n          key={id}\n        >\n          {layoutBody}\n        </Layout>\n      ),\n      [layoutBody]\n    );\n\n    const footerContent = useMemo(\n      () => (\n        <GlobalPageConfig.FooterContainer<F, Q>\n          allContents={allContents}\n          handleRefresh={handleRefresh}\n          hasQueries={hasQueries}\n          {...mappedViewSettings?.footer}\n          pageId={id}\n        >\n          {footer}\n        </GlobalPageConfig.FooterContainer>\n      ),\n      [\n        allContents,\n        handleRefresh,\n        hasQueries,\n        mappedViewSettings?.footer,\n        id,\n        footer,\n      ]\n    );\n\n    return (\n      <PageContainer id={id ?? \"\"} key={id}>\n        {pageContent}\n        {layoutContent}\n        {footerContent}\n      </PageContainer>\n    );\n  }\n);\n\nexport default PageGenerator;\n"],"names":["createQueryExtractor","allQuery","queryCacheRef","usedKeys","createExtractor","createMutationExtractor","allMutation","mutationCacheRef","createFormValuesExtractor","formValues","formValuesCacheRef","useDataExtractor","t0","$","_c","t1","Symbol","for","Map","useRef","t2","t3","t4","current","extractQuery","t5","usedKeys_0","extractMutations","t6","usedKeys_1","extractFormValues","t7","clear","clearCache","t8","t9","cacheRefs","useFormPage","form","queryClient","useQueryClient","defaultValueQuery","setDefaultValueQuery","useState","defaultValues","useEffect","defaultValueQueryKey","initialData","getQueryData","observer","QueryObserver","queryKey","enabled","notifyOnChangeProps","refetchOnWindowFocus","unsubscribe","subscribe","result","data","undefined","useMemo","Object","assign","_b","_a","defaultValueQueryMap","call","formControl","useForm","mode","formSettings","resetOptions","keepDirtyValues","keepDefaultValues","stableFormControl","reset","watch","setValueAndTrigger","useCallback","name","value","options","setValue","trigger","useGenerateContentRender","pageId","ns","contents","isAllQueryMapped","formData","renderComponent","memorizedContentsRef","contentsWithQueriesDeps","Array","isArray","filteredContents","filter","el","hidden","memorizedContents","getStableKey","content","index","key","dynamicElements","map","stableKey","element","usedFormValues","usedQueries","_d","renderInFooter","renderInHeader","formElementsWithKey","elements","idx","next","sort","a","b","String","localeCompare","prev","merged","found","find","e","components","allContents","formContents","DefaultContainer","children","pageConfig","HeaderContainer","FooterContainer","BodyContainer","authPageImage","authPageProps","id","isLogged","val","ItemsContainer","PageContainer","meta","title","description","setPageConfig","config","RenderComponent","withMemo","component","Container","items","props","type","_jsx","Layout","useGenerateContent","_temp","_temp2","_temp3","body","_temp4","_temp5","header","_temp6","_temp7","footer","item","el_0","item_0","el_1","item_1","usePageQueries","queries","q","mutationConfig","queryConfig","processedQueries","useApi","keys","concat","queriesKeys","bb0","length","includes","every","isLoading","values","some","Boolean","queryKeys","hasQueries","q_0","el_3","queryConfig_0","el_2","isLoadingMapped","shallowEqual","objA","objB","toString","keysA","keysB","valA","valB","isStableValue","optimizeDeps","deps","dep","useViewSettings","viewSettings","prevViewSettingsRef","mappedViewSettings","mergeByKey","prevMap","forEach","set","prevItem","get","arraysWithKeyEqual","arrA","arrB","i","StableCache","constructor","cache","getOrSet","existing","useFormData","extractMutationsHandle","extractQueryHandle","formDataCache","formSubmitCache","mappedFormData","processedData","keyStr","formSubmit","submit","submitFn","processedSubmit","EMPTY_ARRAY","usePageConfig","onValuesChange","invalidateQueries","useInvalidateQueries","handleRefresh","useFormManager","usePageUtiles","getContentProps","getContentItems","props_0","__rest","s","t","p","prototype","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","SuppressedError","error","suppressed","message","Error","PageMetadata","documentLang","otherMetaTags","disableIndexing","_jsxs","Helmet","lang","PageGenerator","enableAuthControl","user","useAuthValue","authControl","GlobalPageConfig","usedProps","setUsedProps","newUsedProps","selectedProps","i18n","useTranslation","pageMetadata","language","layoutComponentRef","pageContainerRef","newComponent","customLayoutComponent","customPageContainer","pageContent","_Fragment","LoaderComponent","loading","layoutBody","layoutContent","footerContent"],"mappings":"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","x_google_ignoreList":[14]}